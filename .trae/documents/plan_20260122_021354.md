# 修复生成WebSocket接口按钮无效问题

## 问题分析

* **根本原因**：获取接口列表的API (`/api/interfaces`) 没有返回 `is_websocket` 字段
* **具体表现**：
  1. 点击"生成WebSocket接口"按钮后，后端正确更新了数据库
  2. 前端更新了当前接口对象的 `is_websocket` 属性
  3. 但重新加载接口列表时，API返回的数据中缺少 `is_websocket` 字段
  4. 导致接口列表无法正确显示WebSocket状态
  5. 按钮状态也无法正确切换

## 解决方案

1. **修改后端 `get_interfaces` 函数**：在返回的接口对象中添加 `is_websocket` 字段
2. **确保字段值正确**：从数据库中获取 `is_websocket` 字段的值
3. **测试验证**：确保生成WebSocket接口后，按钮状态正确切换

## 实现步骤

1. **修改 `backend/simple_app.py` 中的 `get_interfaces` 函数**：
   - 在返回的接口对象中添加 `is_websocket` 字段
   - 确保从数据库结果中正确获取该字段的值

2. **测试修复效果**：
   - 启动服务
   - 上传文件，生成接口
   - 点击"生成WebSocket接口"按钮
   - 验证按钮状态正确切换为"WebSocket接口已生成"
   - 验证接口列表中显示WebSocket标签

## 预期效果

* 点击"生成WebSocket接口"按钮后，按钮状态正确切换
* 接口列表中显示WebSocket标签
* 接口详情页显示WebSocket状态
* 重新加载页面后，WebSocket状态仍然保持

## 修改文件

* `backend/simple_app.py` - 主要修复文件