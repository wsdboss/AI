## 问题分析

用户反馈WebSocket接口连接URL中只有IP/主机地址，缺少具体的接口路径。

**当前情况**：

* WebSocket连接URL显示为：`ws://localhost:8000`

* 缺少具体的接口路径，如：`ws://localhost:8000/path/to/interface`

**问题原因**：
在`updateWebSocketUrl`方法中，只生成了基础URL，没有包含当前接口的路径信息。

## 修复方案

### 1. 修改WebSocket连接URL生成逻辑

**当前代码**：

```javascript
updateWebSocketUrl() {
  if (this.currentInterface) {
    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:'
    const host = window.location.host
    this.websocketUrl = `${protocol}//${host}`
  } else {
    this.websocketUrl = ''
  }
}
```

**修复后代码**：

```javascript
updateWebSocketUrl() {
  if (this.currentInterface) {
    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:'
    const host = window.location.host
    // 包含接口路径
    this.websocketUrl = `${protocol}//${host}${this.currentInterface.path}`
  } else {
    this.websocketUrl = ''
  }
}
```

### 2. 确保路径格式正确

* 检查`currentInterface.path`是否包含前导斜杠

* 如果路径不包含前导斜杠，添加前导斜杠

**增强版修复代码**：

```javascript
updateWebSocketUrl() {
  if (this.currentInterface) {
    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:'
    const host = window.location.host
    const path = this.currentInterface.path
    // 确保路径包含前导斜杠
    const normalizedPath = path.startsWith('/') ? path : `/${path}`
    this.websocketUrl = `${protocol}//${host}${normalizedPath}`
  } else {
    this.websocketUrl = ''
  }
}
```

## 修复效果

* WebSocket连接URL将包含完整的接口路径，如：`ws://localhost:8000/api/v1/websocket`

* 符合WebSocket连接URL的标准格式

* 方便用户直接复制使用

## 涉及文件

* `frontend/views/InterfaceDetailView.vue`

## 修复步骤

1. 编辑`InterfaceDetailView.vue`文件
2. 修改`updateWebSocketUrl`方法，添加接口路径
3. 确保路径格式正确
4. 测试修复效果，验证WebSocket连接URL包含完整路径

## 预期结果

* WebSocket连接URL显示为完整格式：`ws://localhost:8000/path/to/interface`

* 用户可以直接复制完整的WebSocket连接URL使用

* 保持与原有界面一致的视觉风格和操作体验

