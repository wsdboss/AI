# 动态接口生成工具开发计划

## 1. 项目结构设计

```
GenerateInterTool/
├── backend/                 # 后端代码
│   ├── app/                # FastAPI应用主目录
│   │   ├── api/            # API路由
│   │   ├── core/           # 核心配置
│   │   ├── db/             # 数据库操作
│   │   ├── models/         # 数据模型
│   │   ├── schemas/        # 数据校验
│   │   ├── services/       # 业务逻辑
│   │   └── utils/          # 工具函数
│   ├── main.py             # 应用入口
│   ├── requirements.txt    # 依赖列表
│   └── build.py            # 打包脚本
├── frontend/               # 前端代码
│   ├── public/             # 静态资源
│   ├── src/                # 源代码
│   │   ├── assets/         # 资源文件
│   │   ├── components/     # 组件
│   │   ├── router/         # 路由
│   │   ├── store/          # 状态管理
│   │   ├── utils/          # 工具函数
│   │   ├── views/          # 页面
│   │   ├── App.vue         # 根组件
│   │   └── main.js         # 入口文件
│   ├── package.json        # 依赖配置
│   └── vue.config.js       # Vue配置
└── docs/                   # 项目文档
```

## 2. 后端功能模块

### 2.1 核心功能
- 文件上传与解析
- 接口信息提取
- 动态接口生成
- Mock数据生成
- 接口调试支持
- 数据库管理

### 2.2 技术实现
- 使用FastAPI构建RESTful API
- Typer实现命令行工具
- PyInstaller打包为Windows可执行文件
- MySQL存储接口信息
- 支持多种文件格式解析（需实现通用解析逻辑）

## 3. 前端功能模块

### 3.1 布局设计
- 左侧：文件上传区、文件列表
- 中间：接口列表、生成按钮
- 右侧：接口详情、请求调试、Mock配置、日志

### 3.2 核心功能
- 文件上传组件
- 接口列表展示
- 接口详情查看
- 请求发送与响应展示
- Mock数据条数调整
- 请求日志记录

### 3.3 技术实现
- Vue2 + ElementUI构建界面
- Axios处理HTTP请求
- Vuex管理状态
- Vue Router实现路由

## 4. 数据库设计

### 4.1 主要表结构
- `interface_files`：存储上传的接口文件信息
- `interfaces`：存储解析后的接口信息
- `interface_params`：存储接口参数信息
- `interface_responses`：存储接口响应信息
- `mock_configs`：存储Mock配置
- `request_logs`：存储请求日志

## 5. 开发流程

### 5.1 后端开发
1. 搭建FastAPI项目框架
2. 实现数据库连接与模型
3. 实现文件上传功能
4. 实现接口解析逻辑
5. 实现动态接口生成
6. 实现Mock数据生成
7. 实现命令行工具

### 5.2 前端开发
1. 搭建Vue2 + ElementUI项目
2. 实现三栏布局
3. 实现文件上传功能
4. 实现接口列表展示
5. 实现接口详情与调试功能
6. 实现Mock配置功能
7. 实现请求日志功能

### 5.3 集成与测试
1. 前后端联调
2. 功能测试
3. 性能测试
4. 打包测试

## 6. 打包方案

### 6.1 后端打包
- 使用PyInstaller将Python代码打包为Windows可执行文件
- 包含所有依赖
- 支持一键启动

### 6.2 前端打包
- 使用Vue CLI打包为静态资源
- 集成到后端服务中，支持直接访问

## 7. 关键技术点

### 7.1 通用文件解析
- 实现可扩展的文件解析器
- 支持多种格式（如Markdown、Word、Excel、JSON等）
- 提取接口名、请求方式、参数、响应等关键信息

### 7.2 动态接口生成
- 使用FastAPI的动态路由功能
- 根据解析的接口信息生成对应的API端点
- 支持不同请求方法（GET、POST、PUT、DELETE等）

### 7.3 Mock数据生成
- 支持自定义数据类型
- 支持调整生成条数
- 支持随机数据生成

### 7.4 接口调试
- 支持在线发送请求
- 实时展示响应结果
- 记录请求日志

## 8. 开发规范

### 8.1 代码规范
- 后端使用PEP 8规范
- 前端使用ESLint规范
- 代码需添加注释
- 每个模块需编写README.md记录更改记录

### 8.2 版本控制
- 使用Git进行版本管理
- 合理划分分支
- 规范提交信息

## 9. 预期交付物

1. 完整的前后端代码
2. Windows可执行文件
3. 项目文档
4. 使用说明

## 10. 后续优化方向

- 支持更多文件格式
- 增强Mock数据生成能力
- 添加接口文档生成功能
- 支持团队协作
- 增强安全性

这个计划将确保我们开发出一个功能完整、易用的动态接口生成工具，满足用户需求。