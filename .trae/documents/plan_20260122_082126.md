# 接口列表和接口详情优化计划

## 目标

1. **中间区域（接口列表）**：
   - 每个接口增加一个显示状态："当前启用接口类型"
   - 位置：放在原【已启用mock】位置处
   - 删除原【已启用mock】标签

2. **右侧区域（接口详情）**：
   - 将HTTP和WebSocket开关放在请求发送tab区域中的第一行
   - 样式居中

## 修改内容

### 1. 修改接口列表组件 (InterfaceListView.vue)

**修改位置**：第53-60行，接口标签区域

**修改内容**：
- 保留原有的WebSocket标签
- 删除原有的【已启用mock】标签
- 新增"当前启用接口类型"标签，根据`is_websocket`属性显示对应值
- 当`is_websocket`为true时显示"WebSocket"
- 当`is_websocket`为false时显示"HTTP"

**修改后效果**：
- 接口列表中显示两个标签：WebSocket（如果是WebSocket接口）和当前启用接口类型
- 删除了冗余的【已启用mock】标签
- 新增的标签清晰展示了接口的当前类型

### 2. 修改接口详情组件 (InterfaceDetailView.vue)

**修改位置**：
- 删除：第14-25行，view-header中的接口类型开关
- 添加：HTTP/WS请求发送tab中，作为第一行，居中显示

**修改内容**：
- 在HTTP/WS请求发送tab的`detail-section`内部，添加一个居中的div，包含接口类型开关
- 位置：第94行的`detail-section`内部，作为第一个子元素
- 添加label："接口类型："
- 设置样式：居中显示

**修改后效果**：
- 接口类型开关现在显示在请求发送tab的第一行，居中对齐
- 开关位置更合理，符合用户操作习惯
- 界面更整洁，功能分区更清晰

## 实施步骤

1. **修改InterfaceListView.vue**：
   - 删除原有的【已启用mock】标签
   - 新增"当前启用接口类型"标签

2. **修改InterfaceDetailView.vue**：
   - 删除view-header中的接口类型开关
   - 在HTTP/WS请求发送tab中添加居中的接口类型开关

3. **测试功能**：
   - 确保接口类型开关功能正常
   - 确保接口列表中的新标签正确显示
   - 确保组件间数据同步正常

4. **构建部署**：
   - 重新构建前端项目
   - 部署到后端服务
   - 测试最终效果

## 技术要点

1. **保持数据同步**：
   - 接口类型开关绑定到`interfaceTypeSwitch`数据
   - 开关状态变化时，通过`toggleInterfaceType`方法更新后端
   - 确保接口列表中的标签与实际接口类型一致

2. **样式优化**：
   - 接口类型开关居中显示，提升视觉效果
   - 标签样式保持一致，提升界面的统一性
   - 保持与现有设计风格的一致性

3. **功能完整性**：
   - 确保所有原有功能不受影响
   - 新增功能符合用户预期
   - 界面交互流畅，操作便捷

## 修改文件

- `frontend/views/InterfaceListView.vue`：优化接口列表，新增当前启用接口类型标签
- `frontend/views/InterfaceDetailView.vue`：调整接口类型开关位置，居中显示

## 预期效果

1. **接口列表**：
   - 每个接口显示：方法、路径、名称、描述、WebSocket标签（如果适用）、当前启用接口类型标签
   - 删除了冗余的【已启用mock】标签
   - 界面更简洁，信息更清晰

2. **接口详情**：
   - 接口类型开关显示在请求发送tab的第一行，居中对齐
   - 开关位置更合理，方便用户在发送请求前切换接口类型
   - 界面更整洁，功能分区更清晰

3. **用户体验**：
   - 操作流程更符合用户习惯
   - 信息展示更直观
   - 界面更美观，提升了整体用户体验